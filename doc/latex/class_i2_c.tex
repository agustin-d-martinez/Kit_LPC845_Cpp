\hypertarget{class_i2_c}{}\doxysection{I2C Class Reference}
\label{class_i2_c}\index{I2C@{I2C}}


Clase del objeto \mbox{\hyperlink{class_i2_c}{I2C}} El objeto uart genera una comunicación asincrónica de tipo U\+A\+RT.  




{\ttfamily \#include $<$I2\+C.\+h$>$}



Inheritance diagram for I2C\+:
% FIG 0


Collaboration diagram for I2C\+:
% FIG 1
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_i2_c_a338cf62e8394d98481d5c646750902fd}\label{class_i2_c_a338cf62e8394d98481d5c646750902fd}} 
enum {\bfseries I2\+C\+\_\+mode\+\_\+t} \{ {\bfseries master} = 1, 
{\bfseries slave} = 2
 \}
\item 
\mbox{\Hypertarget{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}\label{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}} 
enum {\bfseries I2\+C\+\_\+action\+\_\+t} \{ {\bfseries write} = 0, 
{\bfseries read} = 1
 \}
\item 
\mbox{\Hypertarget{class_i2_c_a927222878c117a4278938c82da47e2e6}\label{class_i2_c_a927222878c117a4278938c82da47e2e6}} 
enum {\bfseries I2\+C\+\_\+states\+\_\+t} \{ \newline
{\bfseries idle} = 0, 
{\bfseries rx\+\_\+data} = 1, 
{\bfseries tx\+\_\+ready}, 
{\bfseries N\+A\+C\+K\+\_\+addr}, 
\newline
{\bfseries N\+A\+C\+K\+\_\+tx}, 
{\bfseries slvst\+\_\+addr} = 0, 
{\bfseries slvst\+\_\+rx}, 
{\bfseries slvst\+\_\+tx}, 
\newline
{\bfseries busy} = 10
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i2_c_a32d33a0e34f1cec1ffb4e21b32bb90af}{I2C}} (I2\+C\+\_\+\+Type $\ast$I2\+C\+\_\+register, \mbox{\hyperlink{class_pin}{Pin}} $\ast$sda, \mbox{\hyperlink{class_pin}{Pin}} $\ast$scl, I2\+C\+\_\+mode\+\_\+t mode, uint8\+\_\+t slv\+\_\+addr=0)
\begin{DoxyCompactList}\small\item\em Constructor de la clase \mbox{\hyperlink{class_i2_c}{I2C}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1}{Initialize}} (uint32\+\_\+t clk\+\_\+freq)
\begin{DoxyCompactList}\small\item\em Inicializa el \mbox{\hyperlink{class_i2_c}{I2C}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a1d2d734fcdce3d81f6ddab30d2e53a43}{Enable\+Interupt}} (void)
\begin{DoxyCompactList}\small\item\em Habilita la interrupcion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_aaef51594d197af2a031592e890b6daba}{Disable\+Interupt}} (void)
\begin{DoxyCompactList}\small\item\em Deshabilita la interrupcion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e}{Start}} (uint8\+\_\+t addr, I2\+C\+\_\+action\+\_\+t action)
\begin{DoxyCompactList}\small\item\em Inicia una comunicacion \mbox{\hyperlink{class_i2_c}{I2C}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f}{Stop}} (void)
\begin{DoxyCompactList}\small\item\em Detiene la comunicacion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a4fb70819fb5440055d5cadca5042d7de}{Write}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Escribe un valor a un slave. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_i2_c}{I2C}} \& \mbox{\hyperlink{class_i2_c_a8471212350221fb2a58a3cfbc469c67a}{operator=}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Sobrecarga del operador = (igual). \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{class_i2_c_a2e56aa888fba64968af2ab08382c76af}{Read}} (uint8\+\_\+t $\ast$data, bool continue\+\_\+reading)
\begin{DoxyCompactList}\small\item\em Lee un valor recibido. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a11319f49316d58882041059ce765f5e5}{A\+CK}} (bool a)
\begin{DoxyCompactList}\small\item\em Envia un Acknowledge. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca}{A\+C\+Kaddr}} (void)
\begin{DoxyCompactList}\small\item\em Acknowledge especial del address. \end{DoxyCompactList}\item 
I2\+C\+\_\+states\+\_\+t \mbox{\hyperlink{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc}{Get\+State}} (void)
\begin{DoxyCompactList}\small\item\em Regresa el estado del \mbox{\hyperlink{class_i2_c}{I2C}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_i2_c_a1879bb8afe99b37e59256a575872a1a6}\label{class_i2_c_a1879bb8afe99b37e59256a575872a1a6}} 
virtual void {\bfseries I2\+C\+\_\+\+I\+R\+Q\+Handler} (void)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Clase del objeto \mbox{\hyperlink{class_i2_c}{I2C}} El objeto uart genera una comunicación asincrónica de tipo U\+A\+RT. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_i2_c_a32d33a0e34f1cec1ffb4e21b32bb90af}\label{class_i2_c_a32d33a0e34f1cec1ffb4e21b32bb90af}} 
\index{I2C@{I2C}!I2C@{I2C}}
\index{I2C@{I2C}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{I2C()}{I2C()}}
{\footnotesize\ttfamily I2\+C\+::\+I2C (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Type $\ast$}]{I2\+C\+\_\+register,  }\item[{\mbox{\hyperlink{class_pin}{Pin}} $\ast$}]{sda,  }\item[{\mbox{\hyperlink{class_pin}{Pin}} $\ast$}]{scl,  }\item[{I2\+C\+\_\+mode\+\_\+t}]{mode,  }\item[{uint8\+\_\+t}]{slv\+\_\+addr = {\ttfamily 0} }\end{DoxyParamCaption})}



Constructor de la clase \mbox{\hyperlink{class_i2_c}{I2C}}. 

Genera un \mbox{\hyperlink{class_i2_c}{I2C}} con los parametros indicados 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em I2\+C\+\_\+register} & Registro del \mbox{\hyperlink{class_i2_c}{I2C}} a utilizar. Puede valer I2\+C0, I2\+C1, I2\+C2 o I2\+C3. \\
\hline
\mbox{\texttt{ in}}  & {\em sda} & \mbox{\hyperlink{class_pin}{Pin}} de transmision de datos. \\
\hline
\mbox{\texttt{ in}}  & {\em scl} & \mbox{\hyperlink{class_pin}{Pin}} de clock. \\
\hline
\mbox{\texttt{ in}}  & {\em mode} & Tipo de \mbox{\hyperlink{class_i2_c}{I2C}}. Puede ser master o slave. \\
\hline
\mbox{\texttt{ in}}  & {\em slv\+\_\+addr} & Address propio del \mbox{\hyperlink{class_i2_c}{I2C}}. Solo util cuando se lo configura como slave. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_i2_c_a11319f49316d58882041059ce765f5e5}\label{class_i2_c_a11319f49316d58882041059ce765f5e5}} 
\index{I2C@{I2C}!ACK@{ACK}}
\index{ACK@{ACK}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{ACK()}{ACK()}}
{\footnotesize\ttfamily void I2\+C\+::\+A\+CK (\begin{DoxyParamCaption}\item[{bool}]{a }\end{DoxyParamCaption})}



Envia un Acknowledge. 

Para un \mbox{\hyperlink{class_i2_c}{I2C}} en modo slave, envia un Acknowledge que permite continuar la comunicacion. 
\begin{DoxyParams}{Parameters}
{\em a} & bool que indica si la recepcion es exitosa o no. Si es true se envia un A\+CK. Si es false se envia N\+A\+CK. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca}\label{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca}} 
\index{I2C@{I2C}!ACKaddr@{ACKaddr}}
\index{ACKaddr@{ACKaddr}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{ACKaddr()}{ACKaddr()}}
{\footnotesize\ttfamily bool I2\+C\+::\+A\+C\+Kaddr (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Acknowledge especial del address. 

Envia un acknowledge solo si el address que se recibio coindide con el propio. \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_aaef51594d197af2a031592e890b6daba}\label{class_i2_c_aaef51594d197af2a031592e890b6daba}} 
\index{I2C@{I2C}!DisableInterupt@{DisableInterupt}}
\index{DisableInterupt@{DisableInterupt}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{DisableInterupt()}{DisableInterupt()}}
{\footnotesize\ttfamily void I2\+C\+::\+Disable\+Interupt (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Deshabilita la interrupcion. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a1d2d734fcdce3d81f6ddab30d2e53a43}\label{class_i2_c_a1d2d734fcdce3d81f6ddab30d2e53a43}} 
\index{I2C@{I2C}!EnableInterupt@{EnableInterupt}}
\index{EnableInterupt@{EnableInterupt}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{EnableInterupt()}{EnableInterupt()}}
{\footnotesize\ttfamily void I2\+C\+::\+Enable\+Interupt (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Habilita la interrupcion. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc}\label{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc}} 
\index{I2C@{I2C}!GetState@{GetState}}
\index{GetState@{GetState}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{GetState()}{GetState()}}
{\footnotesize\ttfamily I2\+C\+::\+I2\+C\+\_\+states\+\_\+t I2\+C\+::\+Get\+State (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Regresa el estado del \mbox{\hyperlink{class_i2_c}{I2C}}. 

Regresa el estado actual del \mbox{\hyperlink{class_i2_c}{I2C}}, ya sea master o slave. Un master puede estar rx\+\_\+data si se recibio data, tx\+\_\+ready si esta listo para transmitir, N\+A\+C\+K\+\_\+addr o N\+A\+C\+K\+\_\+tx si recibio un N\+A\+CK. Un slave puede estar en slvst\+\_\+addr si recibio un start, slvst\+\_\+tx si recibio un pedido a transmitir o slvst\+\_\+rx si recibio un pedido a leer. Ambos pueden estar en idle si no se encuentran haciendo nada o busy si estan en mitad de un envio de informacion.


\begin{DoxyParams}{Parameters}
{\em addr} & address del slave al que se comunicara. \\
\hline
{\em action} & accion a realizar. Puede ser read o write. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1}\label{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1}} 
\index{I2C@{I2C}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void I2\+C\+::\+Initialize (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{clk\+\_\+freq }\end{DoxyParamCaption})}



Inicializa el \mbox{\hyperlink{class_i2_c}{I2C}}. 

Configura todos los registros para el uso del \mbox{\hyperlink{class_i2_c}{I2C}}. Configura los clocks, resetea, configura la S\+WM, configura los registros y las interrupciones. 
\begin{DoxyParams}{Parameters}
{\em clk\+\_\+freq} & frecuencia del clock de transmision a utilizar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a8471212350221fb2a58a3cfbc469c67a}\label{class_i2_c_a8471212350221fb2a58a3cfbc469c67a}} 
\index{I2C@{I2C}!operator=@{operator=}}
\index{operator=@{operator=}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_i2_c}{I2C}} \& I2\+C\+::operator= (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data }\end{DoxyParamCaption})}



Sobrecarga del operador = (igual). 

Sobrecarga de operador para escritura de un byte. 
\begin{DoxyParams}{Parameters}
{\em data} & byte a escribir. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_i2_c}{I2C}}\&\+: Puntero a si mismo. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a2e56aa888fba64968af2ab08382c76af}\label{class_i2_c_a2e56aa888fba64968af2ab08382c76af}} 
\index{I2C@{I2C}!Read@{Read}}
\index{Read@{Read}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Read()}{Read()}}
{\footnotesize\ttfamily int8\+\_\+t I2\+C\+::\+Read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{bool}]{continue\+\_\+reading }\end{DoxyParamCaption})}



Lee un valor recibido. 

Lee el valor recibido por un slave. Solo puede ser llamado por un master que previamente haya pedido recibir y o un slave al que le llego un valor. 
\begin{DoxyParams}{Parameters}
{\em data} & puntero a char donde se guardara el valor recibido. \\
\hline
{\em continue\+\_\+reading} & bool que indica si se va a seguir leyendo o no. Si es true, se envia un \char`\"{}continue\char`\"{} y el slave volvera a transmitir informacion. Si es false no se realiza ninguna accion. Si el \mbox{\hyperlink{class_i2_c}{I2C}} es slave, continue\+\_\+reading no tiene proposito. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int8\+\_\+t\+: valor de error. 0 no hubo problemas. -\/1 no se puede leer aun. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e}\label{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e}} 
\index{I2C@{I2C}!Start@{Start}}
\index{Start@{Start}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Start()}{Start()}}
{\footnotesize\ttfamily void I2\+C\+::\+Start (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr,  }\item[{I2\+C\+\_\+action\+\_\+t}]{action }\end{DoxyParamCaption})}



Inicia una comunicacion \mbox{\hyperlink{class_i2_c}{I2C}}. 

Envia el start a un slave. La funcion solo puede ser llamada por un master si este no se encuentra ocupado. 
\begin{DoxyParams}{Parameters}
{\em addr} & address del slave al que se comunicara. \\
\hline
{\em action} & accion a realizar. Puede ser read o write. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f}\label{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f}} 
\index{I2C@{I2C}!Stop@{Stop}}
\index{Stop@{Stop}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Stop()}{Stop()}}
{\footnotesize\ttfamily void I2\+C\+::\+Stop (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Detiene la comunicacion. 

Envia una señal de stop para detener la comunicacion. Solo puede ser llamada por un master que no se encuentre ocupado. \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_i2_c_a4fb70819fb5440055d5cadca5042d7de}\label{class_i2_c_a4fb70819fb5440055d5cadca5042d7de}} 
\index{I2C@{I2C}!Write@{Write}}
\index{Write@{Write}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Write()}{Write()}}
{\footnotesize\ttfamily void I2\+C\+::\+Write (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Escribe un valor a un slave. 

Envia un dato. Solo puede ser llamada por un master que previamente haya pedido transmitir informacion o un slave que este en modo recibir transmision. 
\begin{DoxyParams}{Parameters}
{\em data} & byte a enviar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_comunicacion_sincronica_add9b9c73ccac230a5a88b2031d546c34}{Comunicacion\+Sincronica}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/\+Agustin/\+Escritorio/\+M\+C\+Uexpresso/\+Kit\+L\+P\+C845-\/\+C++/src/\+Drivers/\+Perifericos/14-\/\+Com\+Sincronica/\+I2\+C/\mbox{\hyperlink{_i2_c_8h}{I2\+C.\+h}}\item 
E\+:/\+Agustin/\+Escritorio/\+M\+C\+Uexpresso/\+Kit\+L\+P\+C845-\/\+C++/src/\+Drivers/\+Perifericos/14-\/\+Com\+Sincronica/\+I2\+C/\mbox{\hyperlink{_i2_c_8cpp}{I2\+C.\+cpp}}\item 
E\+:/\+Agustin/\+Escritorio/\+M\+C\+Uexpresso/\+Kit\+L\+P\+C845-\/\+C++/src/\+Drivers/\+Perifericos/14-\/\+Com\+Sincronica/\+I2\+C/I2\+C\+Master.\+cpp\end{DoxyCompactItemize}
