\doxysection{I2C Class Reference}
\hypertarget{class_i2_c}{}\label{class_i2_c}\index{I2C@{I2C}}


Clase del objeto \doxylink{class_i2_c}{I2C} El objeto \doxylink{class_i2_c}{I2C} genera una comunicación sincrónica de tipo \doxylink{class_i2_c}{I2C}. Posee las funciones basicas como start, stop, write y read.  




{\ttfamily \#include $<$I2\+C.\+h$>$}



Inheritance diagram for I2C\+:
% FIG 0


Collaboration diagram for I2C\+:
% FIG 1
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_i2_c_a338cf62e8394d98481d5c646750902fd}\label{class_i2_c_a338cf62e8394d98481d5c646750902fd} 
enum \mbox{\hyperlink{class_i2_c_a338cf62e8394d98481d5c646750902fd}{I2\+C\+\_\+mode\+\_\+t}} \{ {\bfseries master} = 1
, {\bfseries slave} = 2
 \}
\begin{DoxyCompactList}\small\item\em Enumeracion. Modo del \doxylink{class_i2_c}{I2C}. Puede ser master o slave. \end{DoxyCompactList}\item 
\Hypertarget{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}\label{class_i2_c_ac5c17ddab3b8696527f355def36e1d07} 
enum \mbox{\hyperlink{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}{I2\+C\+\_\+action\+\_\+t}} \{ {\bfseries write} = 0
, {\bfseries read} = 1
 \}
\begin{DoxyCompactList}\small\item\em Enumeracion. Acciones del \doxylink{class_i2_c}{I2C}. Pueden ser leer o escribir (write o read). \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{class_i2_c_a927222878c117a4278938c82da47e2e6}{I2\+C\+\_\+states\+\_\+t}} \{ \newline
{\bfseries idle} = 0
, {\bfseries rx\+\_\+data} = 1
, {\bfseries tx\+\_\+ready}
, {\bfseries NACK\+\_\+addr}
, \newline
{\bfseries NACK\+\_\+tx}
, {\bfseries slvst\+\_\+addr} = 0
, {\bfseries slvst\+\_\+rx}
, {\bfseries slvst\+\_\+tx}
, \newline
{\bfseries busy} = 10
 \}
\begin{DoxyCompactList}\small\item\em Enumeracion. Estados del \doxylink{class_i2_c}{I2C}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i2_c_a3f31d647484dfd3cad1aab0be0a5d94b}{I2C}} (I2\+C\+\_\+\+Type \texorpdfstring{$\ast$}{*}I2\+C\+\_\+register, \mbox{\hyperlink{class_pin}{Pin}} \texorpdfstring{$\ast$}{*}sda, \mbox{\hyperlink{class_pin}{Pin}} \texorpdfstring{$\ast$}{*}scl, \mbox{\hyperlink{class_i2_c_a338cf62e8394d98481d5c646750902fd}{I2\+C\+\_\+mode\+\_\+t}} mode=master, uint8\+\_\+t slv\+\_\+addr=0)
\begin{DoxyCompactList}\small\item\em Constructor de la clase \doxylink{class_i2_c}{I2C}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1}{Initialize}} (uint32\+\_\+t clk\+\_\+freq)
\begin{DoxyCompactList}\small\item\em Inicializa el \doxylink{class_i2_c}{I2C}. \end{DoxyCompactList}\item 
\Hypertarget{class_i2_c_a1d2d734fcdce3d81f6ddab30d2e53a43}\label{class_i2_c_a1d2d734fcdce3d81f6ddab30d2e53a43} 
void {\bfseries Enable\+Interupt} (void)
\begin{DoxyCompactList}\small\item\em Habilita la interrupcion. \end{DoxyCompactList}\item 
\Hypertarget{class_i2_c_aaef51594d197af2a031592e890b6daba}\label{class_i2_c_aaef51594d197af2a031592e890b6daba} 
void {\bfseries Disable\+Interupt} (void)
\begin{DoxyCompactList}\small\item\em Deshabilita la interrupcion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e}{Start}} (uint8\+\_\+t addr, \mbox{\hyperlink{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}{I2\+C\+\_\+action\+\_\+t}} action)
\begin{DoxyCompactList}\small\item\em Inicia una comunicacion \doxylink{class_i2_c}{I2C}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f}{Stop}} (void)
\begin{DoxyCompactList}\small\item\em Detiene la comunicacion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a01998f88940804c81ca1c528b724a365}{Write}} (uint8\+\_\+t data) override
\begin{DoxyCompactList}\small\item\em Escribe un valor a un slave. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_i2_c}{I2C}} \& \mbox{\hyperlink{class_i2_c_a8471212350221fb2a58a3cfbc469c67a}{operator=}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Sobrecarga del operador = (igual). \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{class_i2_c_a2e56aa888fba64968af2ab08382c76af}{Read}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, bool continue\+\_\+reading)
\begin{DoxyCompactList}\small\item\em Lee un valor recibido. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i2_c_a11319f49316d58882041059ce765f5e5}{ACK}} (bool a)
\begin{DoxyCompactList}\small\item\em Envia un Acknowledge. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca}{ACKaddr}} (void)
\begin{DoxyCompactList}\small\item\em Acknowledge especial del address. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_i2_c_a927222878c117a4278938c82da47e2e6}{I2\+C\+\_\+states\+\_\+t}} \mbox{\hyperlink{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc}{Get\+State}} (void)
\begin{DoxyCompactList}\small\item\em Regresa el estado del \doxylink{class_i2_c}{I2C}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_i2_c_a1879bb8afe99b37e59256a575872a1a6}{I2\+C\+\_\+\+IRQHandler}} (void)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Clase del objeto \doxylink{class_i2_c}{I2C} El objeto \doxylink{class_i2_c}{I2C} genera una comunicación sincrónica de tipo \doxylink{class_i2_c}{I2C}. Posee las funciones basicas como start, stop, write y read. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{class_i2_c_a927222878c117a4278938c82da47e2e6}\index{I2C@{I2C}!I2C\_states\_t@{I2C\_states\_t}}
\index{I2C\_states\_t@{I2C\_states\_t}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{I2C\_states\_t}{I2C\_states\_t}}
{\footnotesize\ttfamily \label{class_i2_c_a927222878c117a4278938c82da47e2e6} 
enum \mbox{\hyperlink{class_i2_c_a927222878c117a4278938c82da47e2e6}{I2\+C\+::\+I2\+C\+\_\+states\+\_\+t}}}



Enumeracion. Estados del \doxylink{class_i2_c}{I2C}. 

Un master puede encontrarse listo para transmitir o recibir (rx\+\_\+data y tx\+\_\+ready) o recibiendo un NACK (NACK\+\_\+addr y NCK\+\_\+tx). Un slave puede encontrarse listo para transmitir o recibir (slvst\+\_\+tx y slvst\+\_\+rx) o recibiendo un addres para iniciar (slvst\+\_\+addr) Todos los modos pueden estar en idle si no hacen nada o busy si estan en mitad de un procesamiento. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_i2_c_a3f31d647484dfd3cad1aab0be0a5d94b}\index{I2C@{I2C}!I2C@{I2C}}
\index{I2C@{I2C}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{I2C()}{I2C()}}
{\footnotesize\ttfamily \label{class_i2_c_a3f31d647484dfd3cad1aab0be0a5d94b} 
I2\+C\+::\+I2C (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Type \texorpdfstring{$\ast$}{*}}]{I2\+C\+\_\+register}{, }\item[{\mbox{\hyperlink{class_pin}{Pin}} \texorpdfstring{$\ast$}{*}}]{sda}{, }\item[{\mbox{\hyperlink{class_pin}{Pin}} \texorpdfstring{$\ast$}{*}}]{scl}{, }\item[{\mbox{\hyperlink{class_i2_c_a338cf62e8394d98481d5c646750902fd}{I2\+C\+\_\+mode\+\_\+t}}}]{mode}{ = {\ttfamily master}, }\item[{uint8\+\_\+t}]{slv\+\_\+addr}{ = {\ttfamily 0}}\end{DoxyParamCaption})}



Constructor de la clase \doxylink{class_i2_c}{I2C}. 

Genera un \doxylink{class_i2_c}{I2C} con los parametros indicados 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em I2\+C\+\_\+register} & Registro del \doxylink{class_i2_c}{I2C} a utilizar. Puede valer I2\+C0, I2\+C1, I2\+C2 o I2\+C3. \\
\hline
\mbox{\texttt{ in}}  & {\em sda} & \doxylink{class_pin}{Pin} de transmision de datos. \\
\hline
\mbox{\texttt{ in}}  & {\em scl} & \doxylink{class_pin}{Pin} de clock. \\
\hline
\mbox{\texttt{ in}}  & {\em mode} & Tipo de \doxylink{class_i2_c}{I2C}. Puede ser master o slave. \\
\hline
\mbox{\texttt{ in}}  & {\em slv\+\_\+addr} & Address propio del \doxylink{class_i2_c}{I2C}. Solo util cuando se lo configura como slave. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_i2_c_a11319f49316d58882041059ce765f5e5}\index{I2C@{I2C}!ACK@{ACK}}
\index{ACK@{ACK}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{ACK()}{ACK()}}
{\footnotesize\ttfamily \label{class_i2_c_a11319f49316d58882041059ce765f5e5} 
void I2\+C\+::\+ACK (\begin{DoxyParamCaption}\item[{bool}]{a}{}\end{DoxyParamCaption})}



Envia un Acknowledge. 

Para un \doxylink{class_i2_c}{I2C} en modo slave, envia un Acknowledge que permite continuar la comunicacion. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a} & bool que indica si la recepcion es exitosa o no. Si es true se envia un ACK. Si es false se envia NACK. \\
\hline
\end{DoxyParams}
\Hypertarget{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca}\index{I2C@{I2C}!ACKaddr@{ACKaddr}}
\index{ACKaddr@{ACKaddr}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{ACKaddr()}{ACKaddr()}}
{\footnotesize\ttfamily \label{class_i2_c_a23ed9d7e6162b81f42559767e7f668ca} 
bool I2\+C\+::\+ACKaddr (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Acknowledge especial del address. 

Envia un acknowledge solo si el address que se recibio coindide con el propio. \Hypertarget{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc}\index{I2C@{I2C}!GetState@{GetState}}
\index{GetState@{GetState}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{GetState()}{GetState()}}
{\footnotesize\ttfamily \label{class_i2_c_ab4d30ac9140fb1959ba849f437b6eacc} 
\mbox{\hyperlink{class_i2_c_a927222878c117a4278938c82da47e2e6}{I2\+C\+::\+I2\+C\+\_\+states\+\_\+t}} I2\+C\+::\+Get\+State (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Regresa el estado del \doxylink{class_i2_c}{I2C}. 

Regresa el estado actual del \doxylink{class_i2_c}{I2C}, ya sea master o slave. Un master puede estar rx\+\_\+data si se recibio data, tx\+\_\+ready si esta listo para transmitir, NACK\+\_\+addr o NACK\+\_\+tx si recibio un NACK. Un slave puede estar en slvst\+\_\+addr si recibio un start, slvst\+\_\+tx si recibio un pedido a transmitir o slvst\+\_\+rx si recibio un pedido a leer. Ambos pueden estar en idle si no se encuentran haciendo nada o busy si estan en mitad de un envio de informacion. \Hypertarget{class_i2_c_a1879bb8afe99b37e59256a575872a1a6}\index{I2C@{I2C}!I2C\_IRQHandler@{I2C\_IRQHandler}}
\index{I2C\_IRQHandler@{I2C\_IRQHandler}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{I2C\_IRQHandler()}{I2C\_IRQHandler()}}
{\footnotesize\ttfamily \label{class_i2_c_a1879bb8afe99b37e59256a575872a1a6} 
virtual void I2\+C\+::\+I2\+C\+\_\+\+IRQHandler (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Handler generico de interrupcion \doxylink{class_i2_c}{I2C}. No hace nada, debe heredarse y sobreescribirse. \Hypertarget{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1}\index{I2C@{I2C}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily \label{class_i2_c_acdae33cb48da5060e31d28e6610c6eb1} 
void I2\+C\+::\+Initialize (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{clk\+\_\+freq}{}\end{DoxyParamCaption})}



Inicializa el \doxylink{class_i2_c}{I2C}. 

Configura todos los registros para el uso del \doxylink{class_i2_c}{I2C}. Configura los clocks, resetea, configura la SWM, configura los registros y las interrupciones. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em clk\+\_\+freq} & frecuencia del clock de transmision a utilizar. En KHz \\
\hline
\end{DoxyParams}
\Hypertarget{class_i2_c_a8471212350221fb2a58a3cfbc469c67a}\index{I2C@{I2C}!operator=@{operator=}}
\index{operator=@{operator=}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \label{class_i2_c_a8471212350221fb2a58a3cfbc469c67a} 
\mbox{\hyperlink{class_i2_c}{I2C}} \& I2\+C\+::operator= (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data}{}\end{DoxyParamCaption})}



Sobrecarga del operador = (igual). 

Sobrecarga de operador para escritura de un byte. 
\begin{DoxyParams}{Parameters}
{\em data} & byte a escribir. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{class_i2_c}{I2C}\&\+: Puntero a si mismo. 
\end{DoxyReturn}
\Hypertarget{class_i2_c_a2e56aa888fba64968af2ab08382c76af}\index{I2C@{I2C}!Read@{Read}}
\index{Read@{Read}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Read()}{Read()}}
{\footnotesize\ttfamily \label{class_i2_c_a2e56aa888fba64968af2ab08382c76af} 
int8\+\_\+t I2\+C\+::\+Read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{bool}]{continue\+\_\+reading}{}\end{DoxyParamCaption})}



Lee un valor recibido. 

Lee el valor recibido por un slave. Solo puede ser llamado por un master que previamente haya pedido recibir y o un slave al que le llego un valor. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & puntero a char donde se guardara el valor recibido. \\
\hline
\mbox{\texttt{ in}}  & {\em continue\+\_\+reading} & bool que indica si se va a seguir leyendo o no. Si es true, se envia un "{}continue"{} y el slave volvera a transmitir informacion. Si es false no se realiza ninguna accion. Si el \doxylink{class_i2_c}{I2C} es slave, continue\+\_\+reading no tiene proposito. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int8\+\_\+t\+: valor de error. 0 no hubo problemas. -\/1 no se puede leer aun. 
\end{DoxyReturn}
\Hypertarget{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e}\index{I2C@{I2C}!Start@{Start}}
\index{Start@{Start}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Start()}{Start()}}
{\footnotesize\ttfamily \label{class_i2_c_a2dc26ca2bde6fa9896cbe31d3909412e} 
void I2\+C\+::\+Start (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr}{, }\item[{\mbox{\hyperlink{class_i2_c_ac5c17ddab3b8696527f355def36e1d07}{I2\+C\+\_\+action\+\_\+t}}}]{action}{}\end{DoxyParamCaption})}



Inicia una comunicacion \doxylink{class_i2_c}{I2C}. 

Envia el start a un slave. La funcion solo puede ser llamada por un master si este no se encuentra ocupado. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em addr} & address del slave al que se comunicara. \\
\hline
\mbox{\texttt{ in}}  & {\em action} & accion a realizar. Puede ser read o write. \\
\hline
\end{DoxyParams}
\Hypertarget{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f}\index{I2C@{I2C}!Stop@{Stop}}
\index{Stop@{Stop}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Stop()}{Stop()}}
{\footnotesize\ttfamily \label{class_i2_c_a5d3e0b1de395932284e2e010a0160b5f} 
void I2\+C\+::\+Stop (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Detiene la comunicacion. 

Envia una señal de stop para detener la comunicacion. Solo puede ser llamada por un master que no se encuentre ocupado. \Hypertarget{class_i2_c_a01998f88940804c81ca1c528b724a365}\index{I2C@{I2C}!Write@{Write}}
\index{Write@{Write}!I2C@{I2C}}
\doxysubsubsection{\texorpdfstring{Write()}{Write()}}
{\footnotesize\ttfamily \label{class_i2_c_a01998f88940804c81ca1c528b724a365} 
void I2\+C\+::\+Write (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Escribe un valor a un slave. 

Envia un dato. Solo puede ser llamada por un master que previamente haya pedido transmitir informacion o un slave que este en modo recibir transmision. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & byte a enviar. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_comunicacion_sincronica_add9b9c73ccac230a5a88b2031d546c34}{Comunicacion\+Sincronica}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/\+Agustin/\+Escritorio/\+MCUexpresso/\+Kit\+LPC845-\/\+C++/src/\+Drivers/\+Perifericos/14-\/\+Com\+Sincronica/\+I2\+C/\mbox{\hyperlink{_i2_c_8h}{I2\+C.\+h}}\item 
E\+:/\+Agustin/\+Escritorio/\+MCUexpresso/\+Kit\+LPC845-\/\+C++/src/\+Drivers/\+Perifericos/14-\/\+Com\+Sincronica/\+I2\+C/\mbox{\hyperlink{_i2_c_8cpp}{I2\+C.\+cpp}}\end{DoxyCompactItemize}
