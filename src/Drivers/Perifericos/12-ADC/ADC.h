/*******************************************************************************************************************************//**
 *
 * @file		ADC.h
 * @brief		Modulo de ADC.
 * @details
 *
 * @date		22 feb. 2023
 * @version		1.0
 * @author     	Técnico. Martinez Agustin (masteragus365@gmail.com)
 *
 **********************************************************************************************************************************/
/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/
#ifndef ADC_H_
#define ADC_H_
/** \addtogroup Drivers
 *  @{
 */
/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include <Drivers/Perifericos/12-ADC/ADCGroup.h>
#include <Perifericos/01-Pin/Pin.h>
/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLANTACION DE LA CLASE
 **********************************************************************************************************************************/
/**
* \class ADC
 * \brief Clase del objeto ADC
 * FUNCIONAMIENTO:
 * La clase ADC utiliza el ADCGroup para poder ser manejada de forma individual por cada pata.
 * Se pueden crear tantos objetos como canales del ADC existen.
 * La configuración de conversión se realiza automáticamente con el primer objeto ADC creado, el resto no necesita recibir ninguna frecuencia de clock o muestreo.
 * */
class ADC : public Pin
{
private:
	static ADC_Group* m_global_adc;		/**< Grupo de ADCs. Realiza la conversión y configuración del periférico ADC por completo. */
	uint8_t m_channel;					/**< Canal del ADC actual*/
public:
	ADC( uint8_t _channel , uint32_t _clk_freq = 0 , uint32_t _sample_rate = 0 );
	int32_t Get ( void );
	bool IsResultReady ( void );
	void Trigger ( void );
	void Initialize ( void );
	virtual ~ADC() = default;
};

#endif /* ADC_H_ */
/** @}*/
