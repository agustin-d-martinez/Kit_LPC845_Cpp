/*******************************************************************************************************************************//**
 *
 * @file		I4017.h
 * @brief		Objeto de control del integrado I4017
 * @date		27 jul. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/
#ifndef I4017_H_
#define I4017_H_
/** \addtogroup Drivers
 *  @{
 */
/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include <barrido.h>
#include "gpio.h"
#include <vector>
using namespace std;

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLANTACION DE UNA CLASE
 **********************************************************************************************************************************/
/**
 * \class I4017
 * \brief Clase del objeto I4017
 * El objeto I4017 permite el control del integrado del mismo nombre. Habitualmente utilizado para barrer información a tavés de sus patas.
 */
class I4017 : public barrido
{
	uint8_t m_indice ;						/**< Valor actual del barrido */
	const vector <gpio * > &m_pins4017;		/**< Vector de patas utilizadas */
	const uint8_t m_maxsalidas ;			/**< Cantidad de patas utilizadas (A lo sumo pueden ser 10) */

	public:
	// tiene que recibir los gpio clk y reset
		I4017( const vector <gpio * > &pins4017 , uint8_t maxsalidas ) : m_indice (0) , m_pins4017 (pins4017 ) , m_maxsalidas ( (maxsalidas <= 10 ) ? maxsalidas:10) {} /**< constructor por defecto */

		void SetDigito ( void );
		void SetReset( void );
		void SetClock( void );
		void Inicializar ( void );
		virtual ~I4017() {};			/**< destructor por defecto */
};

#endif /* I4017_H_ */
/** @}*/
